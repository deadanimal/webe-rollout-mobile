{"version":3,"sources":["./src/app/asset-location/asset-location.page.html","./src/app/asset-location/asset-location-routing.module.ts","./src/app/asset-location/asset-location.module.ts","./src/app/asset-location/asset-location.page.scss","./src/app/asset-location/asset-location.page.ts"],"names":[],"mappings":"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","file":"asset-location-asset-location-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"air-selangor-toolbar\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <div class=\\\"ion-text-center\\\" style=\\\"font-weight: bold;\\\">\\n      ASSET LOCATION\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" edge slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"locateMe('', 2.835388, 101.738382)\\\">\\n      <ion-icon name=\\\"locate\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <div id=\\\"mapId\\\" style=\\\"height: 300px\\\"></div>\\n  <!-- <div\\n    id=\\\"map\\\"\\n    style=\\\"height: 300px;\\\"\\n    leaflet\\n    [leafletOptions]=\\\"options\\\"\\n    (leafletMapReady)=\\\"onMapReady($event)\\\"\\n  ></div> -->\\n\\n  <div class=\\\"ion-padding-top ion-padding-start ion-padding-end\\\">\\n    <ion-list class=\\\"line-input\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Location name</ion-label>\\n        <ion-input [(ngModel)]=\\\"locationName\\\"></ion-input>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <ion-list-header class=\\\"air-selangor-toolbar\\\">\\n    <div class=\\\"ion-text-center\\\">\\n      List of Pump House\\n    </div>\\n  </ion-list-header>\\n  <ion-card *ngFor=\\\"let pumphouse of pumphouses\\\" (click)=\\\"locateMe(pumphouse.name, pumphouse.lat, pumphouse.lng)\\\">\\n    <!-- <ion-card-content> -->\\n      <div class=\\\"ion-float-left ion-padding\\\">\\n        {{ pumphouse.name }}\\n      </div>\\n      <div class=\\\"ion-float-right ion-padding\\\" style=\\\"font-size: 1rem\\\">\\n        <ion-icon name=\\\"locate\\\"></ion-icon>\\n      </div>\\n    <!-- </ion-card-content> -->\\n  </ion-card>\\n\\n  <div class=\\\"ion-text-center ion-padding\\\">\\n    <ion-button (click)=\\\"confirm()\\\">Confirm</ion-button>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AssetLocationPage } from './asset-location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AssetLocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AssetLocationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AssetLocationPageRoutingModule } from './asset-location-routing.module';\n\nimport { AssetLocationPage } from './asset-location.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    LeafletModule,\n    IonicModule,\n    AssetLocationPageRoutingModule\n  ],\n  declarations: [AssetLocationPage]\n})\nexport class AssetLocationPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Fzc2V0LWxvY2F0aW9uL2Fzc2V0LWxvY2F0aW9uLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from \"@angular/core\";\nimport { Router, NavigationExtras } from \"@angular/router\";\nimport { AlertController } from \"@ionic/angular\";\n\n// import * as L from \"leaflet\";\nimport { Map, tileLayer, Marker, icon, LatLng } from 'leaflet';\n\nimport { Geolocation } from \"@ionic-native/geolocation/ngx\";\n\n@Component({\n  selector: \"app-asset-location\",\n  templateUrl: \"./asset-location.page.html\",\n  styleUrls: [\"./asset-location.page.scss\"]\n})\nexport class AssetLocationPage implements OnInit {\n\n  map: Map;\n\n  pumphouses: Array<any> = [\n    {name: \"Taman Ixora Pump House\", lat: 2.817576, lng: 101.728028 },\n    {name: \"Taman Dahlia Pump House\", lat: 2.825785, lng: 101.722880 },\n    {name: \"Taman Seroja Pump House\", lat: 2.826200, lng: 101.725592},\n    {name: \"Taman Mawar Pump House\", lat: 2.831514, lng: 101.733691 },\n    {name: \"Desa Vista Pump House\", lat: 2.841246, lng: 101.747838 }\n  ];\n\n  locationName: string;\n\n  /* options = {\n    layers: [\n      L.tileLayer(\"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\", {\n        maxZoom: 20,\n        subdomains: [\"mt0\", \"mt1\", \"mt2\", \"mt3\"]\n      })\n    ],\n    zoom: 13,\n    center: L.latLng(2.835388, 101.738382)\n  }; */\n\n  constructor(\n    private geolocation: Geolocation,\n    private alertController: AlertController,\n    private router: Router\n  ) {}\n\n  ngOnInit() {}\n\n  ionViewDidEnter() {\n    this.loadMap();\n  }\n\n  loadMap() {\n    this.map = new Map(\"mapId\").setView([2.835388, 101.738382], 14);\n    tileLayer(\"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\", { \n      maxZoom: 20,\n      subdomains: [\"mt0\", \"mt1\", \"mt2\", \"mt3\"]\n    })\n    .addTo(this.map); // This line is added to add the Tile Layer to our map\n\n    let marker = new Marker(\n      [2.835388, 101.738382],\n      {\n        draggable: true,\n        icon: icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      }\n    );\n    marker.addTo(this.map);\n    marker.on(\"dragend\", function() {\n      var lat = marker.getLatLng().lat;\n      var lng = marker.getLatLng().lng;\n      marker.bindPopup(\n        \"Moved to: \" + lat.toFixed(4) + \", \" + lng.toFixed(4) + \".\"\n      );\n    });\n\n    // Add multiple markers\n    for (var i = 0; i < this.pumphouses.length; i++) {\n      var markerpumphouse = new Marker([ this.pumphouses[i].lat, this.pumphouses[i].lng ], {\n        icon: icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      })\n        .bindPopup(\"Pump house: \" + this.pumphouses[i].name)\n        .addTo(this.map);\n    }\n  }\n\n  /* onMapReady(map: L.Map) {\n    setTimeout(() => {\n      map.invalidateSize();\n    }, 0);\n\n    // this.geolocation.getCurrentPosition().then(resp => {\n    //   if (resp) {\n        let marker = new L.Marker(\n          [2.835388, 101.738382],\n          {\n            draggable: true,\n            icon: L.icon({\n              iconSize: [30, 30],\n              iconAnchor: [13, 41],\n              iconUrl: \"assets/icon/location.svg\"\n            })\n          }\n        );\n        marker.addTo(map);\n        marker.on(\"dragend\", function() {\n          var lat = marker.getLatLng().lat;\n          var lng = marker.getLatLng().lng;\n          marker.bindPopup(\n            \"Moved to: \" + lat.toFixed(4) + \", \" + lng.toFixed(4) + \".\"\n          );\n        });\n\n        map.panTo(new L.LatLng(2.835388, 101.738382));\n    //   }\n    // });\n\n    for (var i = 0; i < this.pumphouses.length; i++) {\n      var markerpumphouse = new L.Marker([ this.pumphouses[i].lat, this.pumphouses[i].lng ], {\n        icon: L.icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      })\n        .bindPopup(\"Pump house: \" + this.pumphouses[i].name)\n        .addTo(map);\n    }\n  } */\n\n  locateMe(name, lat, lng) {\n    this.map.panTo(new LatLng(lat, lng));\n    this.locationName = name;\n  }\n\n  confirm() {\n    let navigationExtras: NavigationExtras = {\n      state: {\n        locationName: this.locationName\n      }\n    };\n\n    this.router.navigate(['asset-detail'], navigationExtras);\n  }\n}\n"],"sourceRoot":"webpack:///"}