{"version":3,"sources":["src/app/asset-location/asset-location.page.html","src/app/asset-location/asset-location-routing.module.ts","src/app/asset-location/asset-location.module.ts","src/app/asset-location/asset-location.page.scss","src/app/asset-location/asset-location.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"air-selangor-toolbar\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <div class=\\\"ion-text-center\\\" style=\\\"font-weight: bold;\\\">\\n      ASSET LOCATION\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" edge slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"locateMe('', 2.835388, 101.738382)\\\">\\n      <ion-icon name=\\\"locate\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <div id=\\\"mapId\\\" style=\\\"height: 300px\\\"></div>\\n  <!-- <div\\n    id=\\\"map\\\"\\n    style=\\\"height: 300px;\\\"\\n    leaflet\\n    [leafletOptions]=\\\"options\\\"\\n    (leafletMapReady)=\\\"onMapReady($event)\\\"\\n  ></div> -->\\n\\n  <div class=\\\"ion-padding-top ion-padding-start ion-padding-end\\\">\\n    <ion-list class=\\\"line-input\\\">\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Location name</ion-label>\\n        <ion-input [(ngModel)]=\\\"locationName\\\"></ion-input>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <ion-list-header class=\\\"air-selangor-toolbar\\\">\\n    <div class=\\\"ion-text-center\\\">\\n      List of Pump House\\n    </div>\\n  </ion-list-header>\\n  <ion-card *ngFor=\\\"let pumphouse of pumphouses\\\" (click)=\\\"locateMe(pumphouse.name, pumphouse.lat, pumphouse.lng)\\\">\\n    <!-- <ion-card-content> -->\\n      <div class=\\\"ion-float-left ion-padding\\\">\\n        {{ pumphouse.name }}\\n      </div>\\n      <div class=\\\"ion-float-right ion-padding\\\" style=\\\"font-size: 1rem\\\">\\n        <ion-icon name=\\\"locate\\\"></ion-icon>\\n      </div>\\n    <!-- </ion-card-content> -->\\n  </ion-card>\\n\\n  <div class=\\\"ion-text-center ion-padding\\\">\\n    <ion-button (click)=\\\"confirm()\\\">Confirm</ion-button>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AssetLocationPage } from './asset-location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AssetLocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AssetLocationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AssetLocationPageRoutingModule } from './asset-location-routing.module';\n\nimport { AssetLocationPage } from './asset-location.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    LeafletModule,\n    IonicModule,\n    AssetLocationPageRoutingModule\n  ],\n  declarations: [AssetLocationPage]\n})\nexport class AssetLocationPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Fzc2V0LWxvY2F0aW9uL2Fzc2V0LWxvY2F0aW9uLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from \"@angular/core\";\nimport { Router, NavigationExtras } from \"@angular/router\";\nimport { AlertController } from \"@ionic/angular\";\n\n// import * as L from \"leaflet\";\nimport { Map, tileLayer, Marker, icon, LatLng } from 'leaflet';\n\nimport { Geolocation } from \"@ionic-native/geolocation/ngx\";\n\n@Component({\n  selector: \"app-asset-location\",\n  templateUrl: \"./asset-location.page.html\",\n  styleUrls: [\"./asset-location.page.scss\"]\n})\nexport class AssetLocationPage implements OnInit {\n\n  map: Map;\n\n  pumphouses: Array<any> = [\n    {name: \"Taman Ixora Pump House\", lat: 2.817576, lng: 101.728028 },\n    {name: \"Taman Dahlia Pump House\", lat: 2.825785, lng: 101.722880 },\n    {name: \"Taman Seroja Pump House\", lat: 2.826200, lng: 101.725592},\n    {name: \"Taman Mawar Pump House\", lat: 2.831514, lng: 101.733691 },\n    {name: \"Desa Vista Pump House\", lat: 2.841246, lng: 101.747838 }\n  ];\n\n  locationName: string;\n\n  /* options = {\n    layers: [\n      L.tileLayer(\"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\", {\n        maxZoom: 20,\n        subdomains: [\"mt0\", \"mt1\", \"mt2\", \"mt3\"]\n      })\n    ],\n    zoom: 13,\n    center: L.latLng(2.835388, 101.738382)\n  }; */\n\n  constructor(\n    private geolocation: Geolocation,\n    private alertController: AlertController,\n    private router: Router\n  ) {}\n\n  ngOnInit() {}\n\n  ionViewDidEnter() {\n    this.loadMap();\n  }\n\n  loadMap() {\n    this.map = new Map(\"mapId\").setView([2.835388, 101.738382], 14);\n    tileLayer(\"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\", { \n      maxZoom: 20,\n      subdomains: [\"mt0\", \"mt1\", \"mt2\", \"mt3\"]\n    })\n    .addTo(this.map); // This line is added to add the Tile Layer to our map\n\n    let marker = new Marker(\n      [2.835388, 101.738382],\n      {\n        draggable: true,\n        icon: icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      }\n    );\n    marker.addTo(this.map);\n    marker.on(\"dragend\", function() {\n      var lat = marker.getLatLng().lat;\n      var lng = marker.getLatLng().lng;\n      marker.bindPopup(\n        \"Moved to: \" + lat.toFixed(4) + \", \" + lng.toFixed(4) + \".\"\n      );\n    });\n\n    // Add multiple markers\n    for (var i = 0; i < this.pumphouses.length; i++) {\n      var markerpumphouse = new Marker([ this.pumphouses[i].lat, this.pumphouses[i].lng ], {\n        icon: icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      })\n        .bindPopup(\"Pump house: \" + this.pumphouses[i].name)\n        .addTo(this.map);\n    }\n  }\n\n  /* onMapReady(map: L.Map) {\n    setTimeout(() => {\n      map.invalidateSize();\n    }, 0);\n\n    // this.geolocation.getCurrentPosition().then(resp => {\n    //   if (resp) {\n        let marker = new L.Marker(\n          [2.835388, 101.738382],\n          {\n            draggable: true,\n            icon: L.icon({\n              iconSize: [30, 30],\n              iconAnchor: [13, 41],\n              iconUrl: \"assets/icon/location.svg\"\n            })\n          }\n        );\n        marker.addTo(map);\n        marker.on(\"dragend\", function() {\n          var lat = marker.getLatLng().lat;\n          var lng = marker.getLatLng().lng;\n          marker.bindPopup(\n            \"Moved to: \" + lat.toFixed(4) + \", \" + lng.toFixed(4) + \".\"\n          );\n        });\n\n        map.panTo(new L.LatLng(2.835388, 101.738382));\n    //   }\n    // });\n\n    for (var i = 0; i < this.pumphouses.length; i++) {\n      var markerpumphouse = new L.Marker([ this.pumphouses[i].lat, this.pumphouses[i].lng ], {\n        icon: L.icon({\n          iconSize: [30, 30],\n          iconAnchor: [13, 41],\n          iconUrl: \"assets/icon/location.svg\"\n        })\n      })\n        .bindPopup(\"Pump house: \" + this.pumphouses[i].name)\n        .addTo(map);\n    }\n  } */\n\n  locateMe(name, lat, lng) {\n    this.map.panTo(new LatLng(lat, lng));\n    this.locationName = name;\n  }\n\n  confirm() {\n    let navigationExtras: NavigationExtras = {\n      state: {\n        locationName: this.locationName\n      }\n    };\n\n    this.router.navigate(['asset-detail'], navigationExtras);\n  }\n}\n"],"sourceRoot":"webpack:///","file":"asset-location-asset-location-module-es5.js"}